def print_board(b):[print("|".join(r))or print("-"*5)for r in b]
def check_win(b,p):return any(all(c==p for c in b[i])or all(b[j][i]==p for j in range(3))for i in range(3))or all(b[i][i]==p for i in range(3))or all(b[i][2-i]==p for i in range(3))
def is_draw(b):return all(c in["X","O"]for r in b for c in r)
def tic_tac_toe():b=[["1","2","3"],["4","5","6"],["7","8","9"]];p="X"
 while True:print_board(b);m=input(f"Player {p}, enter your move (1-9): ")
  if not m.isdigit()or not 1<=int(m)<=9:print("Invalid input. Try again.");continue
  m=int(m)-1;r,c=m//3,m%3
  if b[r][c]in["X","O"]:print("Cell already taken. Try again.");continue
  b[r][c]=p
  if check_win(b,p):print_board(b);print(f"Player {p} wins!");break
  if is_draw(b):print_board(b);print("It's a draw!");break
  p="O"if p=="X"else"X"
tic_tac_toe()
